<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gri Şafak - İnteraktif Hikaye Akış Şeması</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font and background */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* gray-900 */
        }
        
        /* Tree structure styling */
        .tree ul {
            position: relative;
            padding-left: 20px;
            margin-left: 17px;
            border-left: 2px solid #374151; /* gray-700 */
        }

        .tree li {
            position: relative;
            list-style: none;
            margin: 0;
            padding: 8px 0;
        }

        /* Connector lines from parent to child */
        .tree li::before {
            content: '';
            position: absolute;
            top: 22px; /* Adjust based on node height */
            left: -20px;
            width: 18px;
            height: 2px;
            background-color: #374151; /* gray-700 */
        }
        
        /* Remove top connector for the first child */
        .tree > li:first-child::before {
            display: none;
        }

        /* General node styling */
        .node {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid #4B5563; /* gray-600 */
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            min-width: 150px;
        }

        .node:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* Specific styles for different node types */
        .node-prolog, .node-perde {
            background-color: #1F2937; /* gray-800 */
            color: #60A5FA; /* blue-400 */
            border-color: #60A5FA;
            font-weight: bold;
            font-size: 1.1rem;
        }
        .node-bolum { background-color: #374151; /* gray-700 */ color: #F3F4F6; /* gray-100 */ }
        .node-choice { background-color: #4F46E5; /* indigo-600 */ color: white; font-weight: bold; }
        .node-option { background-color: #2563EB; /* blue-600 */ color: white; }
        .node-event { background-color: #7C3AED; /* violet-600 */ color: white; }
        .node-path { background-color: #D97706; /* amber-600 */ color: white; }
        .node-crisis { background-color: #DC2626; /* red-600 */ color: white; font-weight: bold; }
        .node-confrontation { background-color: #EA580C; /* orange-600 */ color: white; }
        .node-ending-group { background-color: #FBBF24; /* amber-400 */ color: #111827; /* gray-900 */ font-weight: bold; }
        .node-ending { background-color: #10B981; /* emerald-500 */ color: white; }

        /* Collapsible functionality */
        .collapsible > ul {
            display: none;
        }
        .collapsible.expanded > ul {
            display: block;
        }
        .collapsible > .node::after {
            content: ' [+]';
            font-family: monospace;
            font-weight: bold;
            color: #93C5FD; /* blue-300 */
        }
        .collapsible.expanded > .node::after {
            content: ' [-]';
            font-family: monospace;
            font-weight: bold;
            color: #FBBF24; /* amber-400 */
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 p-4 sm:p-10">

    <div class="max-w-7xl mx-auto">
        <h1 class="text-3xl sm:text-5xl font-bold text-center mb-12 text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-cyan-300">
            Gri Şafak - İnteraktif Hikaye Akış Şeması
        </h1>
        <p class="text-center text-gray-400 mb-12">Dallanmaları görmek için başlıklara tıklayın.</p>

        <ul class="tree">
            <!-- PROLOG -->
            <li>
                <span class="node node-prolog">PROLOG: PASLANMIŞ DİŞLİLER</span>
                <ul>
                    <li>
                        <span class="node node-choice">[SEÇİM] Arda'nın Geçmişi</span>
                        <ul>
                            <li><span class="node node-option">Veri Analisti</span></li>
                            <li><span class="node node-option">Sokak Muhabiri</span></li>
                            <li><span class="node node-option">Sosyal Hizmetler Görevlisi</span></li>
                        </ul>
                    </li>
                    <li><span class="node node-event">{OLAY} Ahmet'in İşten Çıkarılması</span></li>
                </ul>
            </li>

            <!-- PERDE 1 -->
            <li>
                <span class="node node-perde">PERDE 1: KIVILCIM</span>
                <ul>
                    <li>
                        <span class="node node-choice">[ANA SEÇİM] İlk İttifak</span>
                        <ul>
                            <li><span class="node node-option">Akademisyenler (Elara)</span></li>
                            <li><span class="node node-option">Eski Askerler (Kaan)</span></li>
                            <li><span class="node node-option">Sendikacılar (Leyla)</span></li>
                        </ul>
                    </li>
                    <li><span class="node node-bolum">Bölüm 1.1: Ses Getirme (İlk Eylem)</span></li>
                    <li>
                        <span class="node node-choice">[KRİTİK SEÇİM] İttifak Yapısı</span>
                        <ul>
                            <li><span class="node node-option">Merkezi Konsey</span></li>
                            <li><span class="node node-option">Hücre Yapılanması</span></li>
                            <li><span class="node node-option">Tek Liderlik</span></li>
                        </ul>
                    </li>
                    <li>
                        <span class="node node-bolum">Bölüm 1.3: Devletin Cevabı</span>
                        <ul>
                            <li><span class="node node-event">{ALT HİKAYE} Köstebek Avı</span></li>
                        </ul>
                    </li>
                    <li>
                        <span class="node node-choice">[FİNAL SEÇİMİ] Son Hamle</span>
                        <ul>
                            <li><span class="node node-option">Halk Ayaklanması (Leyla)</span></li>
                            <li><span class="node node-option">Stratejik Darbe (Kaan)</span></li>
                            <li><span class="node node-option">Siyasi Çökertme (Elara)</span></li>
                            <li><span class="node node-ending">SONUÇ: Başarısızlık -> KAYIP DAVA SONU</span></li>
                        </ul>
                    </li>
                </ul>
            </li>

            <!-- PERDE 2 -->
            <li>
                <span class="node node-perde">PERDE 2: YENİ ŞAFAK, ESKİ GÖLGELER</span>
                <ul>
                    <li><span class="node node-bolum">Bölüm 2.0: Kaos Kontrolü</span></li>
                    <li>
                        <span class="node node-choice">[KRİZ YÖNETİMİ] Açlık Krizi</span>
                        <ul>
                            <li><span class="node node-option">Karne Sistemi</span></li>
                            <li><span class="node node-option">Karaborsaya Savaş</span></li>
                            <li><span class="node node-option">Tarım Reformu</span></li>
                            <li><span class="node node-option">Dış Yardım -> KUKLA SONU YOLU</span></li>
                        </ul>
                    </li>
                    <li>
                        <span class="node node-choice">[ANA YOL AYRIMI] Gelecek Vizyonu</span>
                        <ul>
                            <li><span class="node node-path">Elara'nın Vizyonu: Aydınlanma Cumhuriyeti</span></li>
                            <li><span class="node node-path">Kaan'ın Vizyonu: Çelik İrade -> TİRAN SONU YOLU</span></li>
                            <li><span class="node node-path">Leyla'nın Vizyonu: Emekçi Demokrasisi -> ANARŞİ SONU YOLU</span></li>
                        </ul>
                    </li>
                    <li>
                        <span class="node node-event">{OLAY} "Gerçek Eşitler" Hareketi (Zeynep)</span>
                    </li>
                    <li><span class="node node-bolum">Bölüm 2.4: Perde Finali (Eski Hayaletler)</span></li>
                </ul>
            </li>

            <!-- PERDE 3 -->
            <li>
                <span class="node node-perde">PERDE 3: HASAT ZAMANI</span>
                <ul>
                    <li>
                        <span class="node node-bolum">Bölüm 3.0: Yılların Ağırlığı (Durum, önceki seçime göre belirlenir)</span>
                    </li>
                    <li>
                        <span class="node node-bolum">Bölüm 3.1: Son Kriz</span>
                        <ul>
                            <li>
                                <span class="node node-crisis">Kaan'ın Yolunda Kriz: "PASLI KAFES"</span>
                                <ul>
                                    <li><span class="node node-confrontation">Yüzleşme: Zeynep & General Atılgan</span></li>
                                </ul>
                            </li>
                            <li>
                                <span class="node node-crisis">Elara'nın Yolunda Kriz: "KAĞIT KAPLAN"</span>
                                <ul>
                                    <li><span class="node node-confrontation">Yüzleşme: Tarania & Gölge Hükümet</span></li>
                                </ul>
                            </li>
                            <li>
                                <span class="node node-crisis">Leyla'nın Yolunda Kriz: "KIRMIZI VEBA"</span>
                                <ul>
                                    <li><span class="node node-confrontation">Yüzleşme: Kaan & Salgın</span></li>
                                </ul>
                            </li>
                            <li>
                                <span class="node node-confrontation">Her Senaryoda Olası Yüzleşme: Albay Sancak</span>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="node node-ending-group">Bölüm 3.3: NİHAİ SONLAR</span>
                        <ul>
                            <li><span class="node node-ending">TİRAN SONU</span></li>
                            <li><span class="node node-ending">AZİZ/GAZİ SONU</span></li>
                            <li><span class="node node-ending">KUKLA SONU</span></li>
                            <li><span class="node node-ending">ŞEHİT SONU</span></li>
                            <li><span class="node node-ending">DÖNGÜ SONU</span></li>
                            <li><span class="node node-ending">ANARŞİ SONU</span></li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Tüm ağacı kapsayan ana 'ul' elementini seç
            const mainTree = document.querySelector('.tree');

            // Tıklama olayını en dıştaki ağaç konteynerine ata (Event Delegation)
            mainTree.addEventListener('click', (event) => {
                // Tıklanan elementin bir 'node' class'ına sahip olup olmadığını kontrol et
                const nodeSpan = event.target.closest('.node');
                
                if (!nodeSpan) return; // Eğer bir node değilse, hiçbir şey yapma

                // Node'un ait olduğu 'li' elementini bul
                const parentLi = nodeSpan.parentElement;

                // Sadece içinde başka bir 'ul' (yani alt dalları) olan 'li' leri işle
                if (parentLi && parentLi.querySelector('ul')) {
                    // 'collapsible' class'ını ekle (eğer yoksa) ve 'expanded' class'ını değiştir
                    parentLi.classList.add('collapsible');
                    parentLi.classList.toggle('expanded');
                }
            });

            // Başlangıçta sadece ilk seviyeyi (Perdeleri) açık göster
            document.querySelectorAll('.tree > li').forEach(li => {
                 if (li.querySelector('ul')) {
                    li.classList.add('collapsible');
                    li.classList.add('expanded');
                 }
            });
        });
    </script>
</body>
</html>
